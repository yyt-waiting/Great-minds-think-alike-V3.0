HEAD
# Wan-qing-1.0
Wanqing's first version
# AIä¼™ä¼´â€œå©‰æ™´â€ï¼šå¤šæ¨¡æ€æ„ŸçŸ¥ä¸Žä¸»åŠ¨å…³æ€€æ™ºèƒ½ç³»ç»Ÿ

[![Status](https://img.shields.io/badge/status-active-success.svg)]()
[![License](https://img.shields.io/badge/license-All%20Rights%20Reserved-red.svg)]()

**AIä¼™ä¼´â€œå©‰æ™´â€** æ˜¯ä¸€ä¸ªåŸºäºŽPythonå¼€å‘çš„PCç«¯å¤šæ¨¡æ€AIåŠ©æ‰‹ã€‚å®ƒåˆ©ç”¨è®¡ç®—æœºè§†è§‰å’Œè¯­éŸ³è¯†åˆ«æŠ€æœ¯ï¼Œå®žæ—¶æ„ŸçŸ¥ç”¨æˆ·çš„è¡Œä¸ºä¸Žæƒ…ç»ªçŠ¶æ€ï¼Œå¹¶åŸºäºŽå¤§åž‹è¯­è¨€æ¨¡åž‹ï¼ˆLLMï¼‰æä¾›ä¸»åŠ¨ã€æ™ºèƒ½çš„é™ªä¼´ä¸Žå…³æ€€ã€‚

æœ¬é¡¹ç›®æ—¨åœ¨æŽ¢ç´¢AIåœ¨æƒ…æ„Ÿè®¡ç®—ä¸Žä¸ªæ€§åŒ–äº¤äº’é¢†åŸŸçš„åº”ç”¨ï¼Œå°†ä¸€ä¸ªå¼ºå¤§çš„AIæ¨¡åž‹ä»Žäº‘ç«¯å¸¦åˆ°ç”¨æˆ·æ¡Œé¢ï¼Œæˆä¸ºä¸€ä¸ªæœ‰æ¸©åº¦ã€æ‡‚å…³æ€€çš„æ™ºèƒ½ä¼™ä¼´ã€‚

---

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

*   **å¤šæ¨¡æ€æ„ŸçŸ¥ç³»ç»Ÿ**:
    *   **ðŸ‘ï¸ è§†è§‰æ„ŸçŸ¥**: é€šè¿‡æ‘„åƒå¤´å®žæ—¶åˆ†æžç”¨æˆ·çš„**7ç§æ ¸å¿ƒè¡Œä¸º**ï¼ˆå¦‚å·¥ä½œã€çŽ©æ‰‹æœºï¼‰å’Œ**6ç§æ ¸å¿ƒæƒ…ç»ª**ï¼ˆå¦‚å¼€å¿ƒã€ç–²æƒ«ï¼‰ï¼Œç”±Qwen-VLå¤§æ¨¡åž‹æä¾›æ”¯æŒã€‚
    *   **ðŸ‘‚ è¯­éŸ³æ„ŸçŸ¥**: é‡‡ç”¨åŠ¨æ€å™ªéŸ³æ ¡å‡†çš„**è¯­éŸ³æ´»åŠ¨æ£€æµ‹(VAD)**æŠ€æœ¯ï¼Œç²¾å‡†æ•æ‰ç”¨æˆ·è¯è¯­ã€‚ä½¿ç”¨**æœ¬åœ°FunASRæ¨¡åž‹**è¿›è¡Œè¯­éŸ³è¯†åˆ«ï¼Œä¿è¯ä½Žå»¶è¿Ÿä¸Žéšç§å®‰å…¨ã€‚

*   **æ™ºèƒ½å†³ç­–ä¸Žäº¤äº’ç³»ç»Ÿ**:
    *   **ðŸ§  äººæ ¼åŒ–å¤§è„‘**: åŸºäºŽDeepSeekå¤§è¯­è¨€æ¨¡åž‹ï¼Œé€šè¿‡è¯¦ç»†çš„ç³»ç»Ÿçº§Promptä¸ºâ€œå©‰æ™´â€æ³¨å…¥äº†ç‹¬ç‰¹çš„äººæ ¼ä¸Žå…³æ€€é€»è¾‘ã€‚
    *   **â¤ï¸â€ðŸ©¹ ä¸»åŠ¨æƒ…ç»ªå…³æ€€**: æ–°å¢žæ ¸å¿ƒåŠŸèƒ½ï¼ç³»ç»Ÿèƒ½å¤Ÿè¿½è¸ªç”¨æˆ·çš„çŸ­æœŸæƒ…ç»ªå˜åŒ–ï¼Œåœ¨æ£€æµ‹åˆ°æŒç»­è´Ÿé¢æƒ…ç»ªæ—¶**ä¸»åŠ¨å‘èµ·å®‰æ…°ä¸Žå…³æ€€**ã€‚
    *   **ðŸ¤« é€‰æ‹©æ€§å‘è¨€**: ç‹¬åˆ›çš„â€œå®ˆé—¨å‘˜â€é€»è¾‘ï¼Œç»“åˆç”¨æˆ·çŠ¶æ€å˜åŒ–å’Œæ—¶é—´å†·å´ï¼Œä½¿AIçš„ä»‹å…¥æ—¶æœºæ›´æ™ºèƒ½ã€ä¸æ‰“æ‰°ã€‚
    *   **ðŸ—£ï¸ æµç•…è¯­éŸ³å¯¹è¯**: é‡‡ç”¨**ä¼˜å…ˆçº§é˜Ÿåˆ—**ç®¡ç†TTSï¼ˆæ–‡æœ¬è½¬è¯­éŸ³ï¼‰ä»»åŠ¡ï¼Œç¡®ä¿å…³é”®å¯¹è¯èƒ½å¤Ÿâ€œæ’é˜Ÿâ€æ‰“æ–­å¸¸è§„æ’­æŠ¥ï¼Œå®žçŽ°æµç•…è‡ªç„¶çš„äº¤äº’ä½“éªŒã€‚

*   **é•¿æœŸè®°å¿†ä¸Žåæ€èƒ½åŠ›**:
    *   **âœï¸ é•¿æœŸè®°å¿†**: æ‰€æœ‰çš„è§‚å¯Ÿä¸Žäº¤äº’éƒ½ä¼šè¢«è®°å½•åˆ°æœ¬åœ°æ—¥å¿—æ–‡ä»¶ä¸­ï¼Œå½¢æˆAIçš„é•¿æœŸâ€œæ—¥è®°â€ã€‚
    *   **ðŸ“… æ¯æ—¥æ€»ç»“**: æ¯æ—¥å®šæ—¶æˆ–é€šè¿‡å¿«æ·é”®æ‰‹åŠ¨è§¦å‘ï¼ŒAIä¼šâ€œå¤ç›˜â€å½“å¤©çš„æ—¥å¿—ï¼Œå¹¶ç”Ÿæˆä¸€ä»½å……æ»¡æ´žå¯ŸåŠ›ä¸Žäººæƒ…å‘³çš„**æ¯æ—¥æ€»ç»“æŠ¥å‘Š**ã€‚

---

## ðŸš€ å¿«é€Ÿå¼€å§‹

### 1. çŽ¯å¢ƒå‡†å¤‡

*   Python 3.10.6
*   ä¸€ä¸ªæ”¯æŒCUDAçš„NVIDIAæ˜¾å¡ï¼ˆç”¨äºŽæœ¬åœ°ASRæ¨¡åž‹åŠ é€Ÿï¼Œå¯é€‰ï¼‰
*   éº¦å…‹é£Žå’Œæ‘„åƒå¤´

### 2. å®‰è£…

a. **å…‹éš†æˆ–ä¸‹è½½æœ¬é¡¹ç›®åˆ°æœ¬åœ°**

b. **åˆ›å»ºå¹¶æ¿€æ´»Pythonè™šæ‹ŸçŽ¯å¢ƒ**
   ```bash
   # åˆ›å»ºè™šæ‹ŸçŽ¯å¢ƒ
   python -m venv venv
   # æ¿€æ´»è™šæ‹ŸçŽ¯å¢ƒ (Windows)
   .\venv\Scripts\activate
   # æ¿€æ´»è™šæ‹ŸçŽ¯å¢ƒ (macOS/Linux)
   source venv/bin/activate
   ```

c. **å®‰è£…ä¾èµ–**
   æœ¬é¡¹ç›®æ‰€æœ‰ä¾èµ–éƒ½å·²é”å®šåœ¨`requirements.txt`ä¸­ï¼Œä»¥ç¡®ä¿çŽ¯å¢ƒçš„ç¨³å®šæ€§ã€‚
   ```bash
   pip install -r requirements.txt
   ```

### 3. é…ç½®

a. æ‰¾åˆ°é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ `utils/config.py` æ–‡ä»¶ã€‚

b. **å¡«å†™ä½ çš„APIå¯†é’¥**ï¼š
   ```python
   # Deepseek API é…ç½®
   DEEPSEEK_API_KEY = 'sk-xxxxxxxxxxxxxxxxxxxxxxxx'

   # Qwen-VL (Dashscope) APIé…ç½®
   QWEN_API_KEY = "sk-xxxxxxxxxxxxxxxxxxxxxxxx"

   # OSSé…ç½® (ç”¨äºŽè§†è§‰åˆ†æž)
   OSS_ACCESS_KEY_ID = 'LTAIxxxxxxxxxxxxxxxx'
   OSS_ACCESS_KEY_SECRET = 'xxxxxxxxxxxxxxxxxxxxxxxx'
   OSS_BUCKET = 'your-bucket-name'
   OSS_ENDPOINT = 'oss-cn-beijing.aliyuncs.com' # æ ¹æ®ä½ çš„OSSåŒºåŸŸä¿®æ”¹
   ```

c. **(å¯é€‰) è°ƒæ•´è¡Œä¸ºå‚æ•°**:
   ä½ å¯ä»¥æ ¹æ®éœ€è¦è°ƒæ•´`config.py`ä¸­çš„è¡Œä¸ºå‚æ•°ï¼Œå¦‚åˆ†æžé¢‘çŽ‡ã€å›žåº”å†·å´æ—¶é—´ç­‰ã€‚

### 4. è¿è¡Œ

ä¸€åˆ‡å‡†å¤‡å°±ç»ªåŽï¼Œè¿è¡Œä¸»ç¨‹åºå³å¯å¯åŠ¨â€œå©‰æ™´â€ã€‚
```bash
python run_assistant.py
```


## ðŸ› ï¸ æŠ€æœ¯æ ˆ

*   **æ ¸å¿ƒæ¡†æž¶**: CustomTkinter
*   **è§†è§‰å¤„ç†**: OpenCV, Pillow, Qwen-VL API
*   **è¯­éŸ³å¤„ç†**: PyAudio, FunASR (æœ¬åœ°), Dashscope TTS API
*   **AIå¤§è„‘**: DeepSeek API
*   **å¼‚æ­¥å¤„ç†**: `threading`, `queue`
*   **äº‘å­˜å‚¨**: Aliyun OSS

---


# Proactive Affective Agent based on Vector Dynamics and Utility Maximization
# åŸºäºŽå‘é‡åŠ¨åŠ›å­¦ä¸Žæ•ˆç”¨æœ€å¤§åŒ–çš„ä¸»åŠ¨å¼æƒ…æ„Ÿäº¤äº’æ¡†æž¶

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Python](https://img.shields.io/badge/Python-3.10+-blue.svg)](https://www.python.org/)

## ðŸ“– V3.0ç®€ä»‹ (Introduction)

æœ¬é¡¹ç›®å®žçŽ°äº†ä¸€ä¸ªå…·å¤‡**æ‹ŸäººåŒ–å¿ƒæ™º**çš„æ•°å­—ç”Ÿå‘½ä½“æ¡†æž¶ã€‚ä¸åŒäºŽä¼ ç»Ÿçš„åŸºäºŽè§„åˆ™ï¼ˆRule-basedï¼‰çš„èŠå¤©æœºå™¨äººï¼Œæœ¬ç³»ç»Ÿå¼•å…¥äº†**æƒ…æ„Ÿè®¡ç®—**ä¸Ž**æŽ§åˆ¶ç†è®º**ï¼Œæž„å»ºäº†ä¸€ä¸ªæ‹¥æœ‰â€œå†…å¿ƒä¸–ç•Œâ€çš„ AI ä¼™ä¼´ã€‚

ç³»ç»Ÿæ ¸å¿ƒå®žçŽ°äº†ä»Ž**FSMï¼ˆæœ‰é™çŠ¶æ€æœºï¼‰**å‘**POMDPï¼ˆéƒ¨åˆ†å¯è§‚æµ‹é©¬å°”å¯å¤«å†³ç­–è¿‡ç¨‹ï¼‰**çš„å·¥ç¨‹è¿‘ä¼¼è½¬åž‹ï¼Œå…·å¤‡**æƒ…æ„Ÿæƒ¯æ€§**ã€**ç¨³æ€è°ƒèŠ‚**ä»¥åŠ**ä»·å€¼é©±åŠ¨çš„ç†æ€§å†³ç­–**èƒ½åŠ›ã€‚

## ðŸš€ æ ¸å¿ƒç‰¹æ€§ (Key Features)

### 1. æ„ŸçŸ¥å±‚ï¼šä»¿ç”Ÿå‘é‡åŠ¨åŠ›å­¦ (Biomimetic Vector Dynamics)
- **Plutchik å‘é‡ç©ºé—´**ï¼šå°†æƒ…æ„Ÿå»ºæ¨¡ä¸º $\mathbb{R}^8$ è¿žç»­å‘é‡ç©ºé—´ï¼Œè€Œéžç¦»æ•£æ ‡ç­¾ã€‚
- **æƒ¯æ€§ä¸Žç¨³æ€**ï¼šå¼•å…¥æŒ‡æ•°ç§»åŠ¨å¹³å‡ (EMA) ä¸Žçƒ­åŠ›å­¦è€—æ•£æœºåˆ¶ï¼Œæ¨¡æ‹Ÿç”Ÿç‰©æƒ…ç»ªçš„è¿žç»­æ€§ä¸Žè‡ªç„¶æ¶ˆé€€ã€‚
  $$ S_{t+1} \approx S_t \cdot (1 - \lambda_{decay}) $$

### 2. è®¤çŸ¥å±‚ï¼šæ¨¡ç³Šé€»è¾‘åˆæˆ (Fuzzy Cognitive Synthesis)
- åˆ©ç”¨ **Sigmoid éš¶å±žåº¦å‡½æ•°** ä¸Ž **Zadeh ç®—å­**ï¼Œé‡åŒ–è®¡ç®—â€œçˆ±â€ã€â€œç„¦è™‘â€ã€â€œä¹è§‚â€ç­‰å¤åˆæƒ…ç»ªã€‚
- åŸºäºŽ **L2 èŒƒæ•° (Energy Norm)** å®žæ—¶è®¡ç®—æƒ…ç»ªå”¤é†’åº¦ (Arousal)ã€‚

### 3. å†³ç­–å±‚ï¼šä»·å€¼é©±åŠ¨å†³ç­– (Value-Driven Decision Making)
- åŸºäºŽ **ç¡®å®šæ€§æ•ˆç”¨å‡½æ•° (Deterministic Utility Function)** è¿›è¡Œç†æ€§é€‰æ‹©ï¼š
  $$ U(a) = R_{state} + \Phi(I_{arousal}) - C_{cost} - P_{decay} $$
- **è‡ªé€‚åº”å­¦ä¹ **ï¼šé€šè¿‡ Delta è§„åˆ™æ ¹æ®ç”¨æˆ·åé¦ˆåŠ¨æ€è°ƒæ•´ç­–ç•¥æƒé‡ã€‚

### 4. å¹²é¢„å±‚ï¼šCBT åˆ†å±‚å¹²é¢„ (Hierarchical Intervention)
- **Low Arousal**: ä¼´éšå¼é—²èŠã€‚
- **High Arousal**: è‡ªåŠ¨è§¦å‘ **è®¤çŸ¥è¡Œä¸ºç–—æ³• (CBT)** æµç¨‹ï¼Œè¿›è¡Œå¿ƒç†æ€¥æ•‘ã€‚




## ðŸ“œ ç‰ˆæƒå£°æ˜Ž
æœ¬é¡¹ç›®ç‰ˆæƒå½’ **[é˜³æº¢æ¶›å¸¦é¢†çš„Bookæ€è®®å°ç»„-é˜³æº¢æ¶›ï¼Œå»–ç»†èŠ¸ï¼ŒçŽ‹éœ²é¢–ï¼Œé˜®ä¹æ˜Ÿï¼Œé»„ç…œæ¬£ï¼ˆæŽ’åä¸åˆ†å…ˆåŽæ¬¡åºï¼‰]** æ‰€æœ‰ï¼Œå¹¶ä¿ç•™ä¸€åˆ‡æƒåˆ©ã€‚

æœªç»ç‰ˆæƒæŒæœ‰äººä¹¦é¢è®¸å¯ï¼Œä»»ä½•äººä¸å¾—å¤åˆ¶ã€ä¿®æ”¹ã€åˆ†å‘æˆ–ç”¨äºŽå•†ä¸šç›®çš„ã€‚
>>>>>>> b3803ca (first commit)
